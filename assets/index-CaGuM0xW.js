(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const r=document.getElementById("scanButton"),s=document.getElementById("statusIcon"),u=document.getElementById("log"),a=s.querySelector("svg"),f='<path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />',g='<path stroke-linecap="round" stroke-linejoin="round" d="M9.348 14.651a3.75 3.75 0 010-5.303m5.304 0a3.75 3.75 0 010 5.303m-7.425 2.122a6.75 6.75 0 010-9.546m9.546 0a6.75 6.75 0 010 9.546M5.106 18.894c-3.808-3.808-3.808-9.98 0-13.788m13.788 0c3.808 3.808 3.808 9.98 0 13.788M12 12h.008v.008H12V12z" />',m='<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',p='<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />';function c(n,o){u.classList.remove("hidden"),u.textContent=o,s.className="status-icon",n==="scanning"?(s.classList.add("scanning"),a.innerHTML=g,r.disabled=!0,r.textContent="Scanning..."):n==="success"?(s.classList.add("success"),a.innerHTML=m,r.disabled=!1,r.textContent="Scan Again",navigator.vibrate&&navigator.vibrate(200)):n==="error"?(s.classList.add("error"),a.innerHTML=p,r.disabled=!1,r.textContent="Retry",navigator.vibrate&&navigator.vibrate([100,50,100])):(a.innerHTML=f,r.disabled=!1,r.textContent="Start Scan")}r.addEventListener("click",async()=>{c("scanning","Hold device near card...");try{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device.");const n=new NDEFReader;await n.scan(),n.addEventListener("readingerror",()=>{c("error","Read failed. Try again.")}),n.addEventListener("reading",({message:o,serialNumber:i})=>{console.log("Reading:",o,i),c("success",`Card Detected!
ID: ${i}`)})}catch(n){c("error",n.message)}});
